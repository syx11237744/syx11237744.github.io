<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>常见命令</title>
    <url>/2024/10/03/command/</url>
    <content><![CDATA[<p>记录了常见的一些命令，包括docker,git,ssh,proxy,scp等。</p>
<h1 id="docker"><a href="#docker" class="headerlink" title="docker"></a>docker</h1><h2 id="基础命令"><a href="#基础命令" class="headerlink" title="基础命令"></a>基础命令</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">docker start &lt;container_id_or_name&gt;</span><br><span class="line"></span><br><span class="line">docker <span class="built_in">exec</span> -it &lt;container_id_or_name&gt; /bin/bash</span><br></pre></td></tr></table></figure>
<span id="more"></span>

<h1 id="git"><a href="#git" class="headerlink" title="git"></a>git</h1><h2 id="基础命令-1"><a href="#基础命令-1" class="headerlink" title="基础命令"></a>基础命令</h2><h3 id="Init"><a href="#Init" class="headerlink" title="Init"></a>Init</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git init</span><br><span class="line">git remote add origin url</span><br><span class="line">git add .</span><br><span class="line">git commit -m &quot;Initial commit&quot;</span><br><span class="line">git checkout -b new-branch</span><br><span class="line">git push -u origin new-branch</span><br></pre></td></tr></table></figure>

<h3 id="Branch"><a href="#Branch" class="headerlink" title="Branch"></a>Branch</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git branch</span><br><span class="line">git branch -r(remote)</span><br></pre></td></tr></table></figure>
<h3 id="Checkout"><a href="#Checkout" class="headerlink" title="Checkout"></a>Checkout</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git checkout branch_name</span><br><span class="line">git checkout -b local_branch_name origin/remote_branch_name</span><br></pre></td></tr></table></figure>

<h1 id="ssh"><a href="#ssh" class="headerlink" title="ssh"></a>ssh</h1><h2 id="常见命令"><a href="#常见命令" class="headerlink" title="常见命令"></a>常见命令</h2><p>这个命令通过 <code>ssh</code> 进行远程连接，并设置了一个反向代理通道。详细解释如下：</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">ssh -R 7890:localhost:7890 username@ip -p port -A -i ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure>

<h3 id="1-命令结构"><a href="#1-命令结构" class="headerlink" title="1. 命令结构"></a>1. 命令结构</h3><p><code>ssh</code> 是用于通过 SSH（Secure Shell）协议进行远程连接的命令。这个命令的各个选项含义如下：</p>
<h4 id="R-7890-localhost-7890"><a href="#R-7890-localhost-7890" class="headerlink" title="-R 7890:localhost:7890"></a><code>-R 7890:localhost:7890</code></h4><ul>
<li><p><strong>反向端口转发</strong>：<code>-R</code> 选项用于创建一个反向端口转发。</p>
<ul>
<li><code>7890</code>（左边的部分）：这是远程主机（<code>username@ip</code> 这台主机）上的端口号。</li>
<li><code>localhost</code>：这是指向 SSH 客户端机器的主机名，即本地主机（你正在运行这个命令的机器）。</li>
<li><code>7890</code>（右边的部分）：这是本地机器上开放的端口号。</li>
</ul>
<p><strong>功能</strong>：</p>
<ul>
<li>当你连接到远程主机 <code>username@ip</code> 后，远程主机上的 <code>7890</code> 端口就会被绑定到你的本地机器的 <code>7890</code> 端口。</li>
<li>任何连接到远程主机的 <code>7890</code> 端口的数据流都会通过 SSH 隧道安全地传递到本地主机的 <code>7890</code> 端口。这通常用于在远程主机上通过本地资源进行网络请求。</li>
</ul>
</li>
</ul>
<h4 id="username-ip"><a href="#username-ip" class="headerlink" title="username@ip"></a><code>username@ip</code></h4><ul>
<li><strong>用户名和 IP 地址</strong>：<ul>
<li><code>username</code>：远程主机上的用户名，表示你要用哪个用户身份登录到远程服务器。</li>
<li><code>ip</code>：远程主机的 IP 地址或域名。你通过该地址来连接到远程服务器。</li>
</ul>
</li>
</ul>
<h4 id="p-port"><a href="#p-port" class="headerlink" title="-p port"></a><code>-p port</code></h4><ul>
<li><strong>指定端口</strong>：<ul>
<li><code>-p</code> 用于指定远程主机上的 SSH 服务端口号。默认情况下，SSH 服务器使用端口 <code>22</code>，但有时会改为其他端口以提高安全性。</li>
</ul>
</li>
</ul>
<h4 id="A"><a href="#A" class="headerlink" title="-A"></a><code>-A</code></h4><ul>
<li><strong>代理转发</strong>：<ul>
<li><code>-A</code> 选项表示启用 SSH 代理转发（agent forwarding）。代理转发使得你可以在登录远程主机后，通过该远程主机来访问其他服务器而不需要再次输入密码。</li>
<li>这样，当你通过该远程主机再连接其他服务器时，会自动使用你本地的 SSH 密钥，简化连接过程。</li>
</ul>
</li>
</ul>
<h4 id="i-ssh-id-rsa"><a href="#i-ssh-id-rsa" class="headerlink" title="-i ~/.ssh/id_rsa"></a><code>-i ~/.ssh/id_rsa</code></h4><ul>
<li><strong>指定私钥文件</strong>：<ul>
<li><code>-i</code> 用于指定一个 SSH 私钥文件路径。</li>
<li><code>~/.ssh/id_rsa</code> 是存储在你本地的私钥文件，用于身份验证。如果你使用其他名字的私钥文件，你需要修改这里的路径。</li>
</ul>
</li>
</ul>
<h1 id="安装flash-attn"><a href="#安装flash-attn" class="headerlink" title="安装flash-attn"></a>安装flash-attn</h1><p>Install the pre-build wheel list in release page works for me, in my case:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install https://github.com/Dao-AILab/flash-attention/releases/download/v2.3.3/flash_attn-2.3.3+cu118torch2.0cxx11abiFALSE-cp38-cp38-linux_x86_64.whl</span><br></pre></td></tr></table></figure>


<h1 id="Mac终端代理"><a href="#Mac终端代理" class="headerlink" title="Mac终端代理"></a>Mac终端代理</h1><ol>
<li>修改<code>!/.zshrc</code>,加入下面的命令<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># where proxy</span></span><br><span class="line"> <span class="function"><span class="title">proxy</span></span> () &#123;</span><br><span class="line"> <span class="built_in">export</span> http_proxy=<span class="string">&quot;http://127.0.0.1:7890&quot;</span></span><br><span class="line"> <span class="built_in">export</span> https_proxy=<span class="string">&quot;http://127.0.0.1:7890&quot;</span></span><br><span class="line"> <span class="built_in">echo</span> <span class="string">&quot;HTTP Proxy on&quot;</span></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment"># where noproxy</span></span><br><span class="line"> <span class="function"><span class="title">noproxy</span></span> () &#123;</span><br><span class="line"> <span class="built_in">unset</span> http_proxy</span><br><span class="line"> <span class="built_in">unset</span> https_proxy</span><br><span class="line"> <span class="built_in">echo</span> <span class="string">&quot;HTTP Proxy off&quot;</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></li>
<li><code>source ~/.zshrc</code></li>
<li><code>proxy</code>(you will see “HTTP Proxy on”)</li>
<li><code>curl ipinfo.io</code>（查看当前的IP）</li>
</ol>
<h1 id="scp"><a href="#scp" class="headerlink" title="scp"></a>scp</h1><h2 id="两个服务器之间传输"><a href="#两个服务器之间传输" class="headerlink" title="两个服务器之间传输"></a>两个服务器之间传输</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">scp -3 sun:/raid/sunyuanxu/jsonl_sum/sum.jsonl code:/share/sunyuanxu/maxcoverage（配合~/.ssh/config使用）</span><br></pre></td></tr></table></figure>
]]></content>
  </entry>
</search>
